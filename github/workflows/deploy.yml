name: Deploy FLD Token

on:
  push:
      branches: [main]

      jobs:
        deploy:
            runs-on: ubuntu-latest

                steps:
                      - name: Checkout repository
                              uses: actions/checkout@v3

                                    - name: Setup Node.js
                                            uses: actions/setup-node@v3
                                                    with:
                                                              node-version: 20

                                                                    - name: Install dependencies
                                                                            run: npm ci

                                                                                  - name: Compile contracts
                                                                                          run: npx hardhat compile

                                                                                                - name: Deploy to Polygon
                                                                                                        env:
                                                                                                                  DEPLOYER_KEY: ${{ secrets.DEPLOYER_KEY }}
                                                                                                                            POLYGON_RPC_URL: ${{ secrets.POLYGON_RPC_URL }}
                                                                                                                                    run: npx hardhat run scripts/deploy.js --network polygon